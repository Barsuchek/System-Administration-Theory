# IP

## Что такое IP адрес?
IP(Internet Protocol) - маршрутизируемый протокол сетевого уровня стека TCP/IP.

**IP** - это адрес компьютера, сервера или любой другой активной сетевой железки.

Чтобы общаться с другими компьютерами или серверами им нужен уникальный идентификатор, чтобы понять куда отправлять данные и как их получить обратно.

**Простыми словами:** Чтобы отправить письмо почтой России с сообщением Вашей бабушке, Вы кладете в конверт сообщение, а на конверте указываете на какой адрес письмо отправится, а также укажите адрес отправителя.

**Пример:** Мы хотим зайти на сайт, для этого сайту нужно отправить письмо, в котором будет сказано, что нам нужна главная страница. Сайт получит письмо и вышлет нам страницу по адресу, указанному в конверте, в поле «Отправитель».

## Почему IP так странно выглядит?
Компьютеры общаются с помощью нулей и единиц(двоичная система), которые называются битами.

**IPv4:**
>255.255.255.255
Для того, чтобы не вводить 32 значения нулей и единиц, адрес из двоичной системы переводится в десятичную, разбив это число на 4 части. В итоге мы получили четыре числа от 0 до 255, которыми гораздо проще работать.

У данной версии IP есть существенный недостаток, так как количество адресов сильно ограничено, и их не хватит на все устройства. Так как в современном мире IP адрес может иметь даже холодильник.

**IPv6:**
>2001:0db8:0000:0000:0000:ff00:0042:8329
В этой версии IP используется число из 128 бит, которые делятся на 8 частей при помощи двоеточий и переводятся в шестнадцатиричную систему счисления для удобства.

Принцип работы такой же, только количество адресов у данной версии 10 в 28 степени.

## В чем разница между статическим и динамическим адресом?
Статический адрес не меняется у компьютера и всегда остается одним и тем же.

Динамический адрес назначается на определенное время, а затем меняется другим.

**Зачем это нужно?**
Чтобы попасть на сайт, нам нужно знать его адрес, если он изменится, то мы не сможем его найти. Для этого нужен статический адрес.

Обычному посетителю сайта статический адрес не нужен, подойдет динамический, который мы укажем на конверте в поле «Отправитель».

## Внутренний и внешний IP адрес
Так как количество адресов ограничено, а иметь два одинаковых адреса в сети нельзя, так как не будет понятно кому отправлять данные, существуют внутренний и внешний адрес.

Чтобы дать возможность всем войти в интернет можно перейти на IPv6, но это дорого и долго.
Для этого есть технология NAT(Network Address Translation), а точнее ее надстройка PAT(Port Address Translation).

Смысл в том, чтобы множество устройств могли выходить в интернет с одним и тем же адресом, но как это работает?

Есть внешний адрес, который Вам выдает провайдер, он выглядит примерно так:
>66.171.248.170

Есть внутренний адрес, который Вам выдает Ваш маршрутизатор(роутер) в локальной сети, он выглядит примерно так:
>192.168.1.2

Идея заключается в том, что не смотря на одинаковые адреса их можно отличить благодаря тому, что к адресу добавляется порт, это выглядит примерно так:
>66.171.248.170:2025
>192.168.1.2:2025

Порт - уникальное значение после двоеточия, которое присваивает провайдер и которое является дополнительным идентификатором, который позволяет различать адреса. Это позволяет решить проблему с нехваткой адресов и является дополнительным слоем безопасности

